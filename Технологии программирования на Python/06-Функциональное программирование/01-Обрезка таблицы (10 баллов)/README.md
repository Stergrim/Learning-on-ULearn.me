# Обрезка таблицы

После того, как Вася научился выводить таблички в своей программе, у него получилось сдать готовый продукт девушкам в отдел аналитики.

Девушки из отдела аналитики очень полюбили Васю за его крутую программку, которая им очень упростила жизнь. За это они ему начали отправлять куда более приятные [CSV-таблицы](example.zip), в которых уже приведено то форматирование, которым Вася занимался в предыдущей теме.

Но тех удобств, которые им предоставил Вася, всё еще недостаточно.

Например, Анна попросила его сделать возможность вывода не всей информации в табличке, а только определенных строк или определенных полей, поскольку таблица вывода получается очень большой и по ней очень сложно отсматривать конкретную информацию.

Вася уже хорошо изучил модуль `PrettyTable` и понял, что задачи которые задала ему Анна, легко решаются силами этого модуля.

Итак, вот какой вариант своей программы Вася предложил Анне:
1. Формат вывода всех данных в виде таблички сохраняется.
2. Первая строка входных данных - название CSV с вакансиями для обработки.
3. Вторая строка (два числа разделенных пробелом) - порядковые номера вакансий с какой по какую выводить в таблицу: `20 30` - выводить с `20` по `30` вакансию - `20` первая вакансия `30` последняя вакансия. Если указано одно число, это стартовый номер с которого выводить и до конца таблицы: `20` - выводить с `20` вакансии и до конца таблицы. Если не указано ни одного значения `(пустая строка)` - выводить всю таблицу.
4. Третья строка (Заголовки столбцов в таблице разделенные ̈ ,̈ (запятая пробел)) - Названия столбцов, которые нужно выводить в таблице: Название, Опыт работы, Оклад - выводит только указанные столбцы. Если строка пустая, выводить все столбцы.
5. Остальной функционал таблицы сохраняется.
6. Для реализации таких возможностей использовать библиотеку `PrettyTable` и ее возможности обрезки данных в таблице.
7. При написании программы пользоваться функциональным подходом (использовать декораторы, лямбда-функции, генераторы и т.д.)


**Формат ввода**

```
vacancies.csv
20 30
Название, Опыт работы, Оклад
```

[Скачать пример файла](example.zip)

**Формат вывода**

```
+----+----------------------+--------------------+----------------------+
| №  | Название             | Опыт работы        | Оклад                |
+----+----------------------+--------------------+----------------------+
| 20 | Механик/автослесарь  | От 3 до 6 лет      | 70 000 - 120 000     |
|    | по ремонту дорожно-  |                    | (Рубли) (С вычетом   |
|    | строительной         |                    | налогов)             |
|    | спецтехники          |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
+----+----------------------+--------------------+----------------------+
| 21 | Специалист по        | От 1 года до 3 лет | 80 000 - 80 000      |
|    | сопровождению        |                    | (Рубли) (Без вычета  |
|    | резидентов           |                    | налогов)             |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
+----+----------------------+--------------------+----------------------+
| 22 | Дизайнер-печатник /  | От 1 года до 3 лет | 25 000 - 30 000      |
|    | сотрудник Копицентра |                    | (Рубли) (С вычетом   |
|    |                      |                    | налогов)             |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
+----+----------------------+--------------------+----------------------+
| 23 | Аналитик 1С по       | От 3 до 6 лет      | 30 000 - 90 000      |
|    | регламентированному  |                    | (Рубли) (Без вычета  |
|    | учёту                |                    | налогов)             |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
+----+----------------------+--------------------+----------------------+
| 24 | Инженер-монтажник    | От 1 года до 3 лет | 80 000 - 120 000     |
|    | беспроводных систем  |                    | (Рубли) (С вычетом   |
|    | связи                |                    | налогов)             |
|    |                      |                    |                      |
|    |                      |                    |                      |
+----+----------------------+--------------------+----------------------+
| 25 | Тестировщик          | От 1 года до 3 лет | 40 000 - 70 000      |
|    | junior+/middle       |                    | (Рубли) (С вычетом   |
|    |                      |                    | налогов)             |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
+----+----------------------+--------------------+----------------------+
| 26 | Специалист           | От 1 года до 3 лет | 120 000 - 120 000    |
|    | технической          |                    | (Рубли) (Без вычета  |
|    | поддержки            |                    | налогов)             |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
+----+----------------------+--------------------+----------------------+
| 27 | Начальник            | От 3 до 6 лет      | 40 000 - 45 000      |
|    | транспортного        |                    | (Рубли) (С вычетом   |
|    | участка              |                    | налогов)             |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
+----+----------------------+--------------------+----------------------+
| 28 | Менеджер проектов /  | Более 6 лет        | 60 000 - 120 000     |
|    | менеджер по продажам |                    | (Рубли) (С вычетом   |
|    | (IT-решений)         |                    | налогов)             |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
+----+----------------------+--------------------+----------------------+
| 29 | Слесарь по ремонту   | От 1 года до 3 лет | 1 500 - 2 000        |
|    | бензоинструмента     |                    | (Белорусские рубли)  |
|    | (садовая и           |                    | (С вычетом налогов)  |
|    | строительная         |                    |                      |
|    | техника)             |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
+----+----------------------+--------------------+----------------------+
| 30 | Менеджер по продукту | От 3 до 6 лет      | 150 000 - 200 000    |
|    | / Product Owner      |                    | (Рубли) (С вычетом   |
|    |                      |                    | налогов)             |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
|    |                      |                    |                      |
+----+----------------------+--------------------+----------------------+
```

|                         |               |
|:------------------------|:--------------|
| **Ограничение времени** | **1 секунда** |
| **Ограничение памяти**  | **64.0 Мб**   |


Все тесты пройдены, задача сдана:
```py
import csv
from prettytable import PrettyTable, ALL

def csv_reader(file_name):
    with open(file_name, encoding='utf_8_sig') as csv_file:
        reader = csv.reader(csv_file)
        titles = next(reader)
        vacancies = []
        for row in reader:
            gen = {key:value if len(value) <= 100 else value[:100] + "..." for (key,value) in zip(titles, row)}
            vacancies.append(gen)
        return vacancies

def apply_format(func):
    def wrapper(*args):
        table = func(*args)
        vacancies = args[0]
        table.field_names = ['№'] + list(vacancies[0].keys())
        table.max_width = 20
        table.hrules = ALL
        table.align = 'l'
        return table
    return wrapper

def fill_table(func):
    def wrapper(*args):
        table = func(*args)
        vacancies = args[0]
        from_to = args[1]
        titles = args[2]
        for i, vacancy in enumerate(vacancies, 1):
            table.add_row([i] + list(vacancy.values()))
        table = table.get_string(start=from_to[0], end=from_to[1],
                             fields=['№'] + titles.split(', ') if titles != '' else table.field_names)
        return table
    return wrapper

@fill_table
@apply_format
def create_table(vacancies, from_to, titles):
    table = PrettyTable()
    return table

def get_range(input, max):
    match len(input):
        case 0:
            return [0, max + 1]
        case 1:
            return [input[0] - 1, max]
        case 2:
            return [input[0] - 1, input[1]]

def main():
    file_name = input()
    vacancies = csv_reader(file_name)
    from_to = get_range(list(map(int, input().split())), len(vacancies))
    titles = input()
    table = create_table(vacancies, from_to, titles)
    print(table)

if __name__ == '__main__':
    main()
```
