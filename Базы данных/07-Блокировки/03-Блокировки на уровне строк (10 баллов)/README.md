# Блокировки на уровне строк

Посмотри в [документации раздел "Предложение блокировки"](https://postgrespro.ru/docs/postgresql/9.6/sql-select#sql-for-update-share) как использовать блокировки на уровне строк у команды SELECT.

**Задание**

Получи информацию по бронированию `D8094E`. Назначь получаемым строкам **минимально-достаточный** режим блокировки, чтобы их не могли изменить из другой транзакции. Строки, которые нельзя заблокировать нужно пропускать.

Формат вывода: номер бронирования | номер билета | стомость перелета

**Все тесты пройдены, задача сдана:**
```pgsql
Begin;

Select 
    book_ref as "номер бронирования",
    ticket_no as "номер билета", 
    amount as "стоимость перелета"
From tickets
Join ticket_flights Using(ticket_no)
Where book_ref = 'D8094E'
For Share Skip Locked;

Commit;
```
