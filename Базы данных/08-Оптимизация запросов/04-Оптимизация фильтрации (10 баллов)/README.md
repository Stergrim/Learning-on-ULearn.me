# Оптимизация фильтрации

**Общий принцип**

Для оптимизации запроса с фильтрацией по одной колонке, создай индекс по этой колонке.

Правило работает, когда фильтрация значительно ограничит выборку. Т.е. когда фильтр селективный. Если фильтр неселективный, то БД может проигнорировать индекс.

**Задание**

Выполняй запросы в PGAdmin на демо-базе.
1. Выбери все рейсы со статусом `status='On Time'`.
2. Посмотри план.
3. Добавь индекс на колонку, по которой идёт фильтрация.
4. Посмотри ещё раз план запроса. Сравни с исходным планом. Во сколько раз изменилась оценка?
5. Добавь ограничение количества строк – выбери только первые 10 строк.
6. Посмотри план запроса. Сравни с предыдущими. Во сколько раз изменились оценки?
7. Удали индекс.
8. В ответе укажи тип доступа для всех трёх планов. В отдельных строках.


**Все тесты пройдены, задача сдана:**
```pgsql
Seq Scan
Bitmap Heap Scan
Limit
```
