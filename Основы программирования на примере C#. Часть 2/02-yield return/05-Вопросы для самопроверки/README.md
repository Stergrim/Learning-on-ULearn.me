# Вопросы для самопроверки

1. Какие возможности появляются при работе с классом реализующим интерфейс `IEnumerable`?

**Ответ:**

Можем перечислять его элементы оператором `foreach` или напрямую через перечислитель, получив методом `GetEnumerator`

2. Какие возможности дает интерфейс `IEnumerator`?

**Ответ:**

Позволяет перечислять элементы коллекции. Для этого позволяет получить текущий элемент, передвинуться на следующий элемент или узнать, что перечисление закончилось.

3. Зачем нужны два интерфейса `IEnumerable` и `IEnumerator`? Нельзя ли было обойтись одним?

**Ответ:**

Отделение `IEnumerator` от `IEnumerable` позволяет иметь несколько независимых перечислителей для одной коллекции. Без этого было бы невозможно, например, сделать два вложенных цикла по одной и той же коллекции (например, для того, чтобы перебрать все пары элементов этой коллекции).

4. Как получить перечислитель какой-либо коллекции, которая реализует интерфейс `IEnumerable`?

**Ответ:**

Использовать метод `GetEnumerator();`

5. При перечислении коллекции вручную через `Enumerator`, какой вызов необходимо использовать в первую очередь, а какой во вторую?

**Ответ:**

До первого вызова метода `MoveNext`, свойство `Current` не указывает ни на один из элементов перечисляемой коллекции и хранит `default` значение, например `null` если коллекция хранит элементы ссылочного типа. Поэтому изначально следует вызвать метод `MoveNext`, и затем, если было возвращено `true`, обратиться к свойству `Current`.

6. Для чего нужен `yield return`?

**Ответ:**

`yield return` используется для ленивой реализации перечисления элементов коллекции, вычисляя очередной элемент только тогда, когда это потребовалось.

`yield return` возвращает элемент коллекции и «останавливает» выполнение метода до тех пор пока не потребуется следующий элемент.

7. Для чего нужен `yield break`?

**Ответ:**

`yield break` позволяет прервать выполнение ленивого метода и закончить перечисление.

8. Что такое ленивая коллекция, и чем такие коллекции полезны?

**Ответ:**

Ленивая коллекция — это коллекция, элементы которой не хранятся в памяти сразу целиком, а порождаются по мере того, как будут затребованы методом `MoveNext` соответствующего перечислителя. Ленивые коллекции полезны тем, что нам не нужно нигде хранить целый массив элементов, что позволяет существенно экономить память в процессе работы программы.

9. `foreach(var x in ???);` Что можно подставить вместо ??? в этом коде, чтобы он стал корректным?

**Ответ:**

Цикл `foreach` можно использовать с любым значением, реализующим интерфейс `IEnumerable` или `IEnumerable<T>`. Все стандартные коллекции C# (массивы, списки, словари, ...) реализуют оба этих интерфейса.
